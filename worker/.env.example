# Worker Environment Variables

# Database
DATABASE_URL=postgresql://scriptripper:dev_password@postgres:5432/scriptripper_dev

# Redis
REDIS_URL=redis://redis:6379
REDIS_QUEUE_NAME=scriptripper:jobs

# Environment
ENVIRONMENT=development

# Logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# LLM Providers
GEMINI_API_KEY=your-gemini-api-key  # From https://aistudio.google.com/apikey
OPENAI_API_KEY=sk-...  # From https://platform.openai.com/api-keys
ANTHROPIC_API_KEY=sk-ant-...  # From https://console.anthropic.com/settings/keys

# Provider Settings
GEMINI_MODEL=gemini-1.5-pro-latest
OPENAI_MODEL=gpt-4o
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# LLM Rate Limits (requests per minute)
GEMINI_RATE_LIMIT=60
OPENAI_RATE_LIMIT=60
ANTHROPIC_RATE_LIMIT=50

# Retry Configuration
MAX_RETRIES=3
RETRY_DELAY_SECONDS=5

# Worker Configuration
WORKER_CONCURRENCY=5
WORKER_PREFETCH_MULTIPLIER=2

# Object Storage (S3-compatible)
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key
S3_BUCKET_NAME=scriptripper-artifacts
S3_REGION=us-east-1

# Cost Tracking
ENABLE_COST_TRACKING=true

# Prompt Configuration
PROMPTS_DIR=/app/prompts

# Text Processing
MAX_CHUNK_SIZE=8000
CHUNK_OVERLAP=200

# Timeout Configuration
JOB_TIMEOUT_SECONDS=600
LLM_TIMEOUT_SECONDS=120

# Sentry Error Tracking (optional - same DSN as API)
SENTRY_DSN=  # https://[key]@[organization].ingest.sentry.io/[project-id]
SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% performance monitoring (0.0 to 1.0)
SENTRY_PROFILES_SAMPLE_RATE=0.1  # 10% profiling (0.0 to 1.0)
APP_VERSION=0.1.0  # Application version for release tracking
